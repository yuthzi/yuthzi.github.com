import"./index-b2e15df3.js";import{g as p,a as u,b as m}from"./index-30c958c6.js";import{h,o as f,r as g,a3 as s,j as y,v as b,x as r,D as n,ag as v}from"./plugin-vue_export-helper-33be20d1.js";import"./IconifyIcon-a624bcfa.js";import"./SvgIcon-7c92118d.js";import"./index-955e1b5c.js";const C=h({__name:"index",setup(x){f(()=>{i()});const c=g([]);async function i(){const l=(await p()).data;l.forEach(a=>{a.hasChildren=!0,a.level=1}),c.value=l}async function d(e,l,a){if(console.log(l),e.level===1){const t=await u(e==null?void 0:e.id);t.data.forEach(o=>{o.hasChildren=!0,o.level=2}),a(t.data)}else if(e.level===2){const t=await m(e==null?void 0:e.id);a(t.data)}}function _(e){return e.level+"-"+e.id}return(e,l)=>{const a=s("el-table-column"),t=s("el-table"),o=s("el-card");return y(),b(o,null,{default:r(()=>[n(t,{class:"category-list",border:"",lazy:"",data:c.value,load:d,style:{width:"100%"},"row-key":_,"tree-props":{children:"children",hasChildren:"hasChildren"}},{default:r(()=>[n(a,{prop:"id",label:"分类ID",align:"center",width:"150"}),n(a,{prop:"name",label:"分类名称"}),n(a,{prop:"createTime",label:"创建时间",sortable:""}),n(a,{prop:"updateTime",label:"更新时间",sortable:""})]),_:1},8,["data"])]),_:1})}}});const j=v(C,[["__scopeId","data-v-6c68d5a8"]]);export{j as default};
