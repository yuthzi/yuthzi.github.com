import{bq as F,bG as I,bH as R,bI as q,bJ as B,V as C}from"./index-b2e15df3.js";import{h as N,aK as k,aL as D,r as f,J as v,a3 as a,j as H,k as J,y as L,D as s,x as t,u as w,B as P,ah as T,ai as $,l as d,ag as j}from"./plugin-vue_export-helper-33be20d1.js";import{t as z}from"./index-989115b7.js";import{E as G}from"./index-955e1b5c.js";const x=n=>(T("data-v-e42bd4f4"),n=n(),$(),n),K={class:"login-container"},M=x(()=>d("div",{style:{color:"transparent"}},"左侧区域占位符",-1)),O=x(()=>d("div",{class:"form-header"},[d("div",{class:"title"},"hello !"),d("div",{class:"title-tips"},"欢迎来到灯塔！")],-1)),A=N({__name:"index",setup(n){const g=k(),y=D(),p=f(),h=F(),l=v({username:"admin",password:"111111"}),u=f(!1),V=v({username:[{required:!0,validator:(r,e,o)=>{e===""?o(new Error("用户名不能为空")):e.length<4?o(new Error("用户名长度不能小于4位")):o()}}],password:[{required:!0,validator:(r,e,o)=>{e===""?o(new Error("密码不能为空")):e.length<6?o(new Error("密码长度不能小于6位")):o()}}]}),b=r=>{r&&r.validate(async e=>{if(e)try{u.value=!0;const{data:o}=await q(l);h.setToken(o),g.replace(y.query.redirect||B),G({title:`hi,${z()}!`,message:"欢迎回来",type:"success"})}finally{u.value=!1}})};return(r,e)=>{const o=a("el-alert"),m=a("el-col"),_=a("el-input"),c=a("el-form-item"),E=a("el-button"),S=a("el-form"),U=a("el-row");return H(),J("div",K,[L(s(o,{title:"灯塔管理平台",type:"success",closable:!1,style:{position:"fixed"}},null,512),[[C,!1]]),s(U,null,{default:t(()=>[s(m,{xs:24,sm:24,md:12,lg:14,xl:14},{default:t(()=>[M]),_:1}),s(m,{xs:24,sm:24,md:12,lg:10,xl:10},{default:t(()=>[s(S,{ref_key:"ruleFormRef",ref:p,model:l,"status-icon":"",rules:V,class:"login-form"},{default:t(()=>[O,s(c,{prop:"username"},{default:t(()=>[s(_,{modelValue:l.username,"onUpdate:modelValue":e[0]||(e[0]=i=>l.username=i),"prefix-icon":w(I),autocomplete:"off",placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),s(c,{prop:"password"},{default:t(()=>[s(_,{modelValue:l.password,"onUpdate:modelValue":e[1]||(e[1]=i=>l.password=i),type:"password","show-password":"","prefix-icon":w(R),autocomplete:"off",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),s(c,null,{default:t(()=>[s(E,{class:"login-btn",type:"primary",size:"large",loading:u.value,onClick:e[2]||(e[2]=i=>b(p.value))},{default:t(()=>[P(" 登录 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})])}}});const oe=j(A,[["__scopeId","data-v-e42bd4f4"]]);export{oe as default};
